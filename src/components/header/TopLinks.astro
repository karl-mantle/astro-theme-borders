---
import { Icon } from 'astro-icon/components';
import Button from '../ui/Button.astro';
import { PERMALINK_POSTS_TAG } from '../../consts';

const iconSize = 28;
const listClasses = 'text-theme-800 hover:text-theme-900 dark:text-theme-200 dark:hover:text-theme-100 transition duration-300';
---
<ul class="inline-flex gap-4 justify-end items-center px-5 my-auto md:my-0 pb-2 md:pb-0 leading-none" aria-label="toolbar">

  <li class=`${listClasses} md:border-r-2 border-theme-300 dark:border-theme-700`>
    <Button
      class="md:mr-4"
      aria-label="open tags archive"
      text="Tags"
      textClass="hidden md:inline-block"
      href={`${Astro.site}${PERMALINK_POSTS_TAG}`}
      icon="tabler:tags"
      iconSize={iconSize}
      iconReverse={true}
    />
  </li>

  <li class=`${listClasses}`>
    <button
      class="m-auto"
      aria-label="open search"
    >
      <Icon name="tabler:search" height={iconSize} width={iconSize} />
    </button>
  </li>

  <li class=`${listClasses}`>
    <button
      aria-label="subscribe to RSS feed"
    >
      <Icon name="tabler:rss" height={iconSize} width={iconSize} />
    </button>
  </li>

  <li class=`${listClasses}`>
    <Button
      aria-label="open GitHub repository in new tab"
      href="https://github.com/karl-mantle/astro-theme-borders"
      icon="tabler:brand-github"
      iconSize={iconSize}
      iconReverse={true}
      target="_blank"
      rel="noreferrer noopener"
    />
  </li>

  <li class=`${listClasses}`>
    <button 
      aria-label="toggle dark mode"
      :aria-pressed="darkMode"
      @click="toggleDarkMode"
    >
      <Icon name="tabler:sun" height={iconSize} width={iconSize} class="hidden dark:block" />
      <Icon name="tabler:moon" height={iconSize} width={iconSize} class="dark:hidden" />
    </button>
  </li>

  <li class=`md:hidden ${listClasses}`>
    <button
      aria-label="toggle site navigation"
      :aria-pressed="siteNavigationOpen"
      @click="siteNavigationOpen = !siteNavigationOpen" 
      @keydown.window.escape="siteNavigationOpen = false"
    >
      <div x-show="!siteNavigationOpen">
        <Icon name="tabler:menu-2" height={iconSize} width={iconSize} />
      </div>
      <div x-show="siteNavigationOpen">
        <Icon name="tabler:x" height={iconSize} width={iconSize} />
      </div>
    </button>
  </li>
</ul>