---
import { Icon } from 'astro-icon/components';
import { PERMALINK_POSTS_TAG } from '~/consts';
import Button from '~/components/ui/Button.astro';

const iconSize = 28;
const listClasses = 'px-2 py-2 hover:backdrop-brightness-110 text-black hover:text-true-black dark:text-white dark:hover:text-true-white transition duration-300';
---
<ul class="inline-flex gap-2 justify-end items-center px-4 py-2 my-auto md:my-0 pb-2 md:pb-0 leading-none" aria-label="toolbar">

  <li class=`px-2 md:border-r-2 border-light-grey dark:border-dark-grey`>
    <Button
      class="md:mr-4 text-black hover:text-true-black dark:text-white dark:hover:text-true-white transition duration-300"
      aria-label="open tags archive"
      buttonText="Tags"
      buttonTextClass="hidden md:inline-block"
      href={`${Astro.site}${PERMALINK_POSTS_TAG}`}
      icon="carbon:hashtag"
      iconSize={32}
      iconReverse={true}
    />
  </li>

  <li class=`${listClasses}`>
    <button
      class="m-auto"
      aria-label="open search"
    >
      <Icon name="carbon:search" height={iconSize} width={iconSize} />
    </button>
  </li>

  <li class=`${listClasses}`>
    <button
      aria-label="subscribe to RSS feed"
    >
      <Icon name="carbon:rss" height={iconSize} width={iconSize} />
    </button>
  </li>

  <li class=`${listClasses}`>
    <Button
      buttonText="open GitHub repository in new tab"
      buttonTextClass="sr-only"
      href="https://github.com/karl-mantle/astro-theme-borders"
      icon="carbon:logo-github"
      iconSize={iconSize}
      iconReverse={true}
      target="_blank"
      rel="noreferrer noopener"
    />
  </li>

  <li class=`${listClasses}`>
    <button 
      aria-label="toggle dark mode"
      :aria-pressed="darkMode"
      @click="toggleDarkMode"
      class=""
    >
      <Icon name="carbon:sun" height={iconSize} width={iconSize} class="hidden dark:block" />
      <Icon name="carbon:moon" height={iconSize} width={iconSize} class="dark:hidden" />
    </button>
  </li>

  <li class=`md:hidden ${listClasses}`>
    <button
      aria-label="toggle site navigation"
      :aria-pressed="siteNavigationOpen"
      @click="siteNavigationOpen = !siteNavigationOpen" 
      @keydown.window.escape="siteNavigationOpen = false"
    >
      <div x-show="!siteNavigationOpen">
        <Icon name="carbon:menu" height={iconSize} width={iconSize} />
      </div>
      <div x-show="siteNavigationOpen">
        <Icon name="carbon:x" height={iconSize} width={iconSize} />
      </div>
    </button>
  </li>
</ul>